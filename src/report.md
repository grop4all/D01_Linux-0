# Report
## UNIX/Linux operating systems (Basic).



1. [Отчет]() \
    1.1 [Установка ОС](#part-1-установка-oc)  
    1.2 [Создание пользователя](#part-2-создание-пользователя)  
    1.3 [Настройка сети ОС](#part-3-настройка-сети-ос)   
    1.4 [Обновление ОС](#part-4-обновление-ос)  
    1.5 [Использование команды  sudo](#part-5-использование-команды-sudo)  
    1.6 [Установка и настройка службы времени](#part-6-установка-и-настройка-службы-времени)  
    1.7 [Установка и использование текстовых редакторов](#part-7-установка-и-использование-текстовых-редакторов)  
    1.8 [Установка и базовая настройка сервиса SSHD](#part-8-установка-и-базовая-настройка-сервиса-sshd)   
    1.9 [Установка и использование утилит top, htop](#part-9-установка-и-использование-утилит-top-htop)   
    1.10 [Использование утилиты fdisk](#part-10-использование-утилиты-fdisk)   
    1.11 [Использование утилиты df](#part-11-использование-утилиты-df)    
    1.12 [Использование утилиты du](#part-12-использование-утилиты-du)    
    1.13 [Установка и использование утилиты ncdu](#part-13-установка-и-использование-утилиты-ncdu)    
    1.14 [Работа с системными журналами](#part-14-работа-с-системными-журналами)     
    1.15 [Использование планировщика заданий CRON](#part-15-использование-планировщика-заданий-cron) 

#

## part-1-установка-oc
-Скачал Server-Ubuntu без GUI

-Вывод команды : `cat /etc/issue`

![версия_linux](images/1.png) 

#

## part-2-создание-пользователя

Использовал утилиту useradd. \
На самом деле для просмотра логов была нужна группа adm, группу изменил с помощью утилиты usermod 

![версия_linux](images/2.png)

#

## part-3-настройка-сети-ос

Установил название машины

![hosts](images/5.png)

![название машины](images/4.png)

Time zone 

![устанавил timezone](images/6.png)

-После этого я узнал что можно использовать про протокол NTP и воспользовался им.

sudo timedatectl set-npt no (устанавлеваем флаг в no)

sudo apt update (обновлям apt пакеты)

sudo apt install ntp (устанавлевам ntp)

ntpq -p (активирум протокол)

P.S вот так бывает когда торопишься !

Loopback — это термин, который обычно используется для описания методов или процедур маршрутизации электронных сигналов, цифровых потоков данных, или других движущихся сущностей от их источника и обратно к тому же источнику без специальной обработки или модификаций. Первоначально он использовался для тестирования передачи или передающей инфраструктуры.


DHCP - Dynamic Host Configuration Protocol — протокол динамической настройки узла) — прикладной протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP. Данный протокол работает по модели «клиент-сервер». Для автоматической конфигурации компьютер-клиент на этапе конфигурации сетевого устройства обращается к так называемому серверу DHCP и получает от него нужные параметры. \

![ip адресс устройсва](images/7.png)


внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза
![внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза](images/8.png)
или
![](images/10.png)

- задаем маршрут
![задаем маршрут](images/14.png)
- ping 1.1.1.1
![ping 1.1.1.1](images/11.png)
- ping ya.ru
![ping ya.ru](images/55.png)

## Part 4. Обновление ОС

![обновление пакетов](images/16.png)

## Part 5. Использование команды sudo

Команда sudo ( substitute user and do, подменить пользователя и выполнить ) позволяет строго определенным пользователям выполнять указанные программы с административными привилегиями без ввода пароля суперпользователя root.

- изменяем группу пользователя
![изменяем группу пользователя](images/17.png)

- изменил hostname
![изменил hostname](images/56.png)
![](images/57.png)

## Part 6. Установка и настройка службы времени

- Время
![date](images/19.png)

- timedatectl show
![timedatectl](images/20.png)

## Part 7. Установка и использование текстовых редакторов


-vim
![vim](images/21.png)
для сохранения используем :wq

-nano
![nano](images/22.png)
[Ctrl + O] или
для сохранения при выходе [Crtl + c] указываем y

-mcedit
![mcedit](images/23.png)
[F2] или
при выходе указываем сохранение

-vim
![vim](images/24.png)

при выходе :q!

-nano
![nano](images/58.png)
для сохранения при выходе [Crtl + c] указываем n

-mcedit
![mcedit](images/25.png)
при выходе указываем не сохранять

cat *.txt
![](images/26.png)


-vim

поиск осуществляеться через /фраза 
![](images/66.png)

т.к после поиска используем [c] и заменяем слово
![](images/67.png)

-nano
[Ctrl  W] найти текст 
[Alt W] перейти
![](images/61.png)

[Alt + R] найти и заменить
также можно использовать регулярные выражения (еще раз [Alt + R])

![](images/63.png)

![](images/64.png)
![](images/65.png)

-mcedit
поиск [F7]
![](images/68.png)


поиск и замена [F4]
![](images/69.png)


## Part 8. Установка и базовая настройка сервиса **SSHD**


-установка openssh-server
![openssh-server](images/70.png) 


-добавляем в авто загрузку sshd
![](images/28.png)

-Перенастроить службу SSHd на порт 2022
в etc/ssh/sshd_config
![Перенастроить_службу_SSHd_на_порт_2022.](images/71.png)

-Используя команду ps, показать наличие процесса sshd.\
Флаг -A или -e отображает все процессы.
![](images/30.png)


![netsrar_nat](images/32.png)
-t tcp соединение(можно поставить -u UDP)

-a это all

-n вывод ip адресов без опеределени hostname (DNS)

Proto-протокол передачи данных 
Recv-Q и Send-Q - принятые отпраленые данные
Local Address - локальный адрес (в частносте 0.0.0.0 подразумевает использование как lo так и ip)

Foreing Adderss -внешний адрес

Status - состояние соединения. Состояние Listening говорит о том, что строка состояния отображает информацию о сетевой службе, ожидающей входящие соединения по соответствующему протоколу на адрес и порт, отображаемые в колонке "Локальный адрес ". Состояние ESTABLISHED указывает на активное соединение. В колонке "Состояние" для соединений по протоколу TCP может отображаться текущий этап TCP-сессии определяемый по обработке значений флагов в заголовке TCP - пакета (Syn, Ask, Fin ... ). Возможные состояния:

CLOSE_WAIT - ожидание закрытия соединения.\
CLOSED - соединение закрыто.\
ESTABLISHED - соединение установлено.\
LISTENING - ожидается соединение (слушается порт)\
TIME_WAIT - превышение времени ответа.


## Part 9. Установка и использование утилит **top**, **htop**

![top](images/72.png)
- По выводу команды top определить и написать в отчёте:
  - uptime = 3:09
  - количество авторизованных пользователей = 1
  - общую загрузку системы = 0,02 , 0,01 , 0,00
  - общее количество процессов  = 102
  - загрузку cpu = 0,0
  - загрузку памяти = 246,5
  - pid процесса занимающего больше всего памяти top
  - pid процесса, занимающего больше всего процессорного времени kwoeker/..

- htop:
  - Сортировка по PID ![htop_PID](images/34.png)
  - Сортировка по PERCENT_CPU ![PERCENT_CPU](images/35.png)
  - Сортировка по PERCENT_MEM ![PERCENT_MEM](images/36.png)
  - Сортировка по TIME ![TIME] ![TIME](images/37.png)
  - sshd ![sshd](images/38.png)
  - syslog ![syslog](images/39.png)
  - с добавленным выводом hostname, clock и uptime  ![htop_setup](images/40.png)

## Part 10. Использование утилиты **fdisk**

Disk /dev/sda

SIZE 5GiB

Sector 10485678

Swap 0 ![swap](images/41.png)

## Part 11. Использование утилиты **df** 

- df В отчёте написать для корневого раздела (/):
  - размер раздела = 4316484
  - размер занятого пространства = 3268953
  - размер свободного пространства = 808896
  - процент использования = 81
  Е.и Kb

- df -Th В отчёте написать для корневого раздела (/):
    - размер раздела = 4,2G
    - размер занятого пространства = 3,2G
    - размер свободного пространства = 720M
    - процент использования = 81
    Type ext4

## Part 12. Использование утилиты **du**

- du -ch /home ![/home](images/42.png)

- du -ch /var ![/var](images/43.png)

- du -h /var/log ![/var/log](images/44.png)

- du -ch /var ![/var/log/*](images/45.png)

## Part 13. Установка и использование утилиты **ncdu**

- ncdo /home ![/home](images/46.png)

- ncdu  /var ![/var](images/47.png)

- du -ch /var/log ![/var/log](images/48.png)


## Part 14. Работа с системными журналами

- authorization ![auth](images/49.png)

- sudo systemctl stop/start sshd

- syslog ![syslog](images/51.png)


## Part 15. Использование планировщика заданий **CRON**

- crontab -l ![crontab](images/52.png)

- syslog ![syslog](images/53.png)

- crontab -r (навероне лучше руками через crontab -e)![](images/54.png)
